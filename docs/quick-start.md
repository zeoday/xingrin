# ğŸš€ XingRin - æ˜Ÿç¯ å¿«é€Ÿå¼€å§‹

## ç³»ç»Ÿè¦æ±‚

### ç¡¬ä»¶è¦æ±‚
- **CPU**: 2 æ ¸å¿ƒä»¥ä¸Š
- **å†…å­˜**: 4GB ä»¥ä¸Š
- **å­˜å‚¨**: 20GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºæ‹‰å– Docker é•œåƒï¼‰

### è½¯ä»¶è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 18.04+ / Debian 10+
- **æƒé™**: sudo ç®¡ç†å‘˜æƒé™
- **ç«¯å£è¦æ±‚**: éœ€è¦å¼€æ”¾ä»¥ä¸‹ç«¯å£
  - `80` - HTTP è®¿é—®ï¼ˆè‡ªåŠ¨è·³è½¬åˆ° HTTPSï¼‰
  - `443` - HTTPS è®¿é—®ï¼ˆä¸»è¦è®¿é—®ç«¯å£ï¼‰
  - `3000` - å‰ç«¯å¼€å‘æœåŠ¡ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
  - `8888` - åç«¯ API æœåŠ¡
  - `5432` - PostgreSQL æ•°æ®åº“ï¼ˆå¦‚ä½¿ç”¨æœ¬åœ°æ•°æ®åº“ï¼‰
  - `6379` - Redis ç¼“å­˜æœåŠ¡

## ä¸€é”®å®‰è£…

### 1. ä¸‹è½½é¡¹ç›®
```bash
# æ–¹å¼ 1ï¼šGit å…‹éš†ï¼ˆæ¨èï¼‰
git clone https://github.com/ä½ çš„ç”¨æˆ·å/xingrin.git
cd xingrin

# æ–¹å¼ 2ï¼šä¸‹è½½ ZIP
wget https://github.com/ä½ çš„ç”¨æˆ·å/xingrin/archive/main.zip
unzip main.zip && cd xingrin-main
```

### 2. æ‰§è¡Œå®‰è£…
```bash
# ç”Ÿäº§ç¯å¢ƒå®‰è£…
sudo ./install.sh

# å¼€å‘ç¯å¢ƒå®‰è£…ï¼ˆæœ¬åœ°æ„å»ºé•œåƒï¼‰
sudo ./install.sh --dev

# åªå®‰è£…åç«¯ï¼ˆå‰ç«¯å•ç‹¬éƒ¨ç½²ï¼‰
sudo ./install.sh --no-frontend
```

### 3. è®¿é—®ç³»ç»Ÿ
å®‰è£…å®Œæˆåï¼Œè®¿é—®ï¼š
- **Web ç•Œé¢**: https://ä½ çš„æœåŠ¡å™¨IP/

**é»˜è®¤è´¦å·**ï¼š
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin`

âš ï¸ **é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼**

## â˜ï¸ äº‘æœåŠ¡å™¨éƒ¨ç½²æ³¨æ„äº‹é¡¹

### ç«¯å£å®‰å…¨ç»„é…ç½®
**é˜¿é‡Œäº‘/è…¾è®¯äº‘/åä¸ºäº‘ç­‰äº‘æœåŠ¡å™¨é»˜è®¤å¼€å¯å®‰å…¨ç­–ç•¥ï¼Œéœ€è¦æ‰‹åŠ¨æ”¾è¡Œç«¯å£ï¼**

#### å¿…é¡»æ”¾è¡Œçš„ç«¯å£
```
80    - HTTP è®¿é—®
443   - HTTPS è®¿é—®  
3000  - å‰ç«¯æœåŠ¡ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
8888  - åç«¯ API
5432  - PostgreSQLï¼ˆå¦‚ä½¿ç”¨æœ¬åœ°æ•°æ®åº“ï¼‰
6379  - Redis ç¼“å­˜
```

#### æ¨èæ–¹æ¡ˆ
- **å›½å¤– VPS**ï¼šå¦‚ Vultrã€DigitalOceanã€Linode ç­‰ï¼Œé»˜è®¤å¼€æ”¾æ‰€æœ‰ç«¯å£ï¼Œæ— éœ€é¢å¤–é…ç½®
- **å›½å†…äº‘æœåŠ¡å™¨**ï¼šéœ€è¦åœ¨å®‰å…¨ç»„ä¸­æ‰‹åŠ¨æ”¾è¡Œç«¯å£ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è®¿é—®

âš ï¸ **é‡è¦æé†’**ï¼šç«¯å£æœªæ”¾è¡Œä¼šå¯¼è‡´ï¼š
- æ— æ³•è®¿é—® Web ç•Œé¢
- æ‰«æåŠŸèƒ½å¼‚å¸¸
- è¿œç¨‹ Worker è¿æ¥å¤±è´¥

## å®‰è£…è¿‡ç¨‹è¯´æ˜

### è‡ªåŠ¨å®‰è£…å†…å®¹
```mermaid
graph TD
    A[æ‰§è¡Œ install.sh] --> B[æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ]
    B --> C[å®‰è£… Docker]
    C --> D[ç”Ÿæˆé…ç½®æ–‡ä»¶]
    D --> E[æ‹‰å– Docker é•œåƒ]
    E --> F[å¯åŠ¨æœåŠ¡]
    F --> G[å®‰è£…å®Œæˆ]
    
    style A fill:#e1f5fe
    style G fill:#e8f5e8
```

### å®‰è£…æ­¥éª¤è¯¦è§£
1. **ç¯å¢ƒæ£€æŸ¥**: æ£€æµ‹æ“ä½œç³»ç»Ÿã€å®‰è£…ç¼ºå¤±çš„åŸºç¡€å‘½ä»¤
2. **Docker å®‰è£…**: è‡ªåŠ¨å®‰è£… Docker å’Œ docker-compose
3. **é…ç½®ç”Ÿæˆ**: åˆ›å»º `.env` é…ç½®æ–‡ä»¶ï¼Œç”Ÿæˆéšæœºå¯†é’¥
4. **æ•°æ®åº“é…ç½®**: æ”¯æŒæœ¬åœ° PostgreSQL æˆ–è¿œç¨‹æ•°æ®åº“
5. **SSL è¯ä¹¦**: è‡ªåŠ¨ç”Ÿæˆè‡ªç­¾å HTTPS è¯ä¹¦
6. **æœåŠ¡å¯åŠ¨**: å¯åŠ¨æ‰€æœ‰å®¹å™¨æœåŠ¡

## æœåŠ¡ç®¡ç†

### å¸¸ç”¨å‘½ä»¤
```bash
# å¯åŠ¨æœåŠ¡
./start.sh

# åœæ­¢æœåŠ¡
./stop.sh

# é‡å¯æœåŠ¡
./restart.sh

# æ›´æ–°ç³»ç»Ÿ
./update.sh

# å¸è½½ç³»ç»Ÿ
./uninstall.sh
```

### æœåŠ¡çŠ¶æ€æ£€æŸ¥
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker logs xingrin-server
docker logs xingrin-frontend
docker logs xingrin-nginx
docker logs xingrin-agent

# æŸ¥çœ‹ç³»ç»Ÿèµ„æº
docker stats
```

## é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®æ–‡ä»¶
```
docker/.env              # ä¸»é…ç½®æ–‡ä»¶
docker/nginx/ssl/        # SSL è¯ä¹¦ç›®å½•
/opt/xingrin/results/    # æ‰«æç»“æœå­˜å‚¨
/opt/xingrin/logs/       # ç³»ç»Ÿæ—¥å¿—å­˜å‚¨
```

### é‡è¦é…ç½®é¡¹
```bash
# æ•°æ®åº“é…ç½®
DB_HOST=postgres         # æ•°æ®åº“åœ°å€
DB_PORT=5432            # æ•°æ®åº“ç«¯å£
DB_NAME=xingrin         # æ•°æ®åº“åç§°
DB_USER=postgres        # æ•°æ®åº“ç”¨æˆ·
DB_PASSWORD=éšæœºç”Ÿæˆ     # æ•°æ®åº“å¯†ç 

# æœåŠ¡é…ç½®
SERVER_PORT=8888        # åç«¯æœåŠ¡ç«¯å£
PUBLIC_HOST=server      # å¯¹å¤–è®¿é—®åœ°å€
DEBUG=False             # è°ƒè¯•æ¨¡å¼

# ç‰ˆæœ¬é…ç½®
IMAGE_TAG=v1.0.0        # é•œåƒç‰ˆæœ¬ï¼ˆè‡ªåŠ¨è®¾ç½®ï¼‰
```

## è¿œç¨‹ Worker éƒ¨ç½²

### 1. ä¸»æœåŠ¡å™¨æ·»åŠ èŠ‚ç‚¹
1. ç™»å½• Web ç•Œé¢
2. è¿›å…¥ **ç³»ç»Ÿç®¡ç†** â†’ **Worker èŠ‚ç‚¹**
3. ç‚¹å‡» **æ·»åŠ èŠ‚ç‚¹**ï¼Œå¡«å†™è¿œç¨‹æœåŠ¡å™¨ä¿¡æ¯ï¼š
   - èŠ‚ç‚¹åç§°
   - IP åœ°å€
   - SSH ç«¯å£ï¼ˆé»˜è®¤ 22ï¼‰
   - SSH ç”¨æˆ·å
   - SSH å¯†ç 

### 2. ä¸€é”®éƒ¨ç½²
ç‚¹å‡» **éƒ¨ç½²** æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
1. SSH è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨
2. å®‰è£… Docker ç¯å¢ƒ
3. æ‹‰å– Worker é•œåƒ
4. å¯åŠ¨ Agent å®¹å™¨

### 3. éªŒè¯éƒ¨ç½²
- èŠ‚ç‚¹çŠ¶æ€æ˜¾ç¤ºä¸º **åœ¨çº¿**
- å¯ä»¥çœ‹åˆ°èŠ‚ç‚¹çš„ CPUã€å†…å­˜è´Ÿè½½
- ä»»åŠ¡åˆ†å‘æ—¶ä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep :80
sudo netstat -tlnp | grep :443

# åœæ­¢å ç”¨ç«¯å£çš„æœåŠ¡
sudo systemctl stop apache2  # å¦‚æœæ˜¯ Apache
sudo systemctl stop nginx    # å¦‚æœæ˜¯ Nginx
```

#### 2. Docker æƒé™é—®é¢˜
```bash
# æ·»åŠ ç”¨æˆ·åˆ° docker ç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•æˆ–æ‰§è¡Œ
newgrp docker
```

#### 3. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
docker logs xingrin-server --tail 50

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat docker/.env

# é‡æ–°ç”Ÿæˆé…ç½®
cp docker/.env.example docker/.env
# é‡æ–°é…ç½®åå¯åŠ¨
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker logs -f xingrin-server
docker logs -f xingrin-agent

# æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
docker logs --tail 100 xingrin-server
docker logs --tail 100 xingrin-agent

# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
tail -f /opt/xingrin/logs/*.log
```

### 3. å®šæœŸæ›´æ–°
```bash
# å®šæœŸæ‰§è¡Œç³»ç»Ÿæ›´æ–°
./update.sh
```

## ä¸‹ä¸€æ­¥

å®‰è£…å®Œæˆåï¼Œå»ºè®®é˜…è¯»ï¼š
- [ç‰ˆæœ¬ç®¡ç†æ–‡æ¡£](./version-management.md) - äº†è§£ç³»ç»Ÿæ›´æ–°æœºåˆ¶
- [API æ–‡æ¡£](./api.md) - é›†æˆå¼€å‘æ¥å£ï¼ˆğŸš§ å¾…å®Œå–„ï¼‰
- [æœ€ä½³å®è·µ](./best-practices.md) - ä½¿ç”¨å»ºè®®å’Œä¼˜åŒ–ï¼ˆğŸš§ å¾…å®Œå–„ï¼‰

## è·å¾—å¸®åŠ©

- ğŸ“– [æŠ€æœ¯æ–‡æ¡£](./README.md)
- ğŸ› [é—®é¢˜åé¦ˆ](https://github.com/ä½ çš„ç”¨æˆ·å/xingrin/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/ä½ çš„ç”¨æˆ·å/xingrin/discussions)
- ğŸ“§ è”ç³»é‚®ç®±: your-email@example.com